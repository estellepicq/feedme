var foodItems,searchSection=document.getElementById("search"),listElt=document.getElementById("list"),filteredListElt=document.getElementById("filteredList"),searchInput=document.getElementById("searchInput");function getFooodItems(){Aias.HTTP.GET("http://nutrimetrics.estellepicq.com/food?fodmaps=1","json").then(e=>{foodItems=e,this.displayList(foodItems)}).catch(e=>{console.log("error",e)})}function displayList(e){e.forEach((e,t)=>{var n=document.createElement("div"),o=e.fodmaps_cutoff?" - "+e.fodmaps_cutoff:"";n.textContent=e.name+o,n.setAttribute("class","item"),n.id="item_"+t;var d=e.fodmaps_category.toLowerCase().replace(/ /g,""),a=document.getElementById(d);if(!a){(a=document.createElement("div")).id=d,a.setAttribute("class","category"),listElt.append(a);var c=document.createElement("h4");c.textContent=e.fodmaps_category,a.append(c);var s=document.createElement("div");s.id=d+"_low",a.appendChild(s);var i=document.createElement("h5");i.textContent="Pauvres en FODMAPs",s.appendChild(i);var r=document.createElement("div");r.id=d+"_high",a.appendChild(r);var m=document.createElement("h5");m.textContent="Riches en FODMAPs",r.appendChild(m)}document.getElementById(d+"_"+e.fodmaps_indicator).appendChild(n)})}getFooodItems(),searchInput.addEventListener("keyup",function(){var e=searchInput.value;foodItems.forEach((t,n)=>{searchInput.value?searchSection.classList.add("filtering"):searchSection.classList.remove("filtering");document.getElementById("item_"+n);t.name.toLowerCase().includes(e.toLowerCase())})});